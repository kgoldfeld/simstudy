<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create multivariate (correlated) data - for general distributions — addCorGen • simstudy</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create multivariate (correlated) data - for general distributions — addCorGen"><meta property="og:description" content="Create multivariate (correlated) data - for general distributions"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simstudy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/simstudy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/clustered.html">Clustered Data</a>
    </li>
    <li>
      <a href="../articles/corelationmat.html">Correlation Matrices</a>
    </li>
    <li>
      <a href="../articles/correlated.html">Correlated Data</a>
    </li>
    <li>
      <a href="../articles/customdist.html">Customized Distributions</a>
    </li>
    <li>
      <a href="../articles/double_dot_extension.html">Dynamic Data Definition</a>
    </li>
    <li>
      <a href="../articles/framework.html">Framework for repeated simulations</a>
    </li>
    <li>
      <a href="../articles/logisticCoefs.html">Targeted logistic model coefficients</a>
    </li>
    <li>
      <a href="../articles/longitudinal.html">Longitudinal Data</a>
    </li>
    <li>
      <a href="../articles/missing.html">Missing Data</a>
    </li>
    <li>
      <a href="../articles/ordinal.html">Ordinal Categorical Data</a>
    </li>
    <li>
      <a href="../articles/spline.html">Spline Data</a>
    </li>
    <li>
      <a href="../articles/survival.html">Survival Data</a>
    </li>
    <li>
      <a href="../articles/treat_and_exposure.html">Treatment and Exposure</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/kgoldfeld/simstudy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create multivariate (correlated) data - for general distributions</h1>
    <small class="dont-index">Source: <a href="https://github.com/kgoldfeld/simstudy/blob/main/R/add_correlated_data.R" class="external-link"><code>R/add_correlated_data.R</code></a></small>
    <div class="hidden name"><code>addCorGen.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create multivariate (correlated) data - for general distributions</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">addCorGen</span><span class="op">(</span></span>
<span>  <span class="va">dtOld</span>,</span>
<span>  nvars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  idvar <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>  rho <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  corstr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  corMatrix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">dist</span>,</span>
<span>  <span class="va">param1</span>,</span>
<span>  param2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-dtold">dtOld<a class="anchor" aria-label="anchor" href="#arg-dtold"></a></dt>
<dd><p>The data set that will be augmented. If the data set includes a
single record per id, the new data table will be created as a "wide" data set.
If the original data set includes multiple records per id, the new data set will
be in "long" format.</p></dd>


<dt id="arg-nvars">nvars<a class="anchor" aria-label="anchor" href="#arg-nvars"></a></dt>
<dd><p>The number of new variables to create for each id. This is only applicable
when the data are generated from a data set that includes one record per id.</p></dd>


<dt id="arg-idvar">idvar<a class="anchor" aria-label="anchor" href="#arg-idvar"></a></dt>
<dd><p>String variable name of column represents individual level id for correlated
data.</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>Correlation coefficient, -1 &lt;= rho &lt;= 1. Use if corMatrix is not provided.</p></dd>


<dt id="arg-corstr">corstr<a class="anchor" aria-label="anchor" href="#arg-corstr"></a></dt>
<dd><p>Correlation structure of the variance-covariance matrix
defined by sigma and rho. Options include "cs" for a compound symmetry structure
and "ar1" for an autoregressive structure.</p></dd>


<dt id="arg-cormatrix">corMatrix<a class="anchor" aria-label="anchor" href="#arg-cormatrix"></a></dt>
<dd><p>Correlation matrix can be entered directly. It must be symmetrical and
positive semi-definite. It is not a required field; if a matrix is not provided, then a
structure and correlation coefficient rho must be specified.</p></dd>


<dt id="arg-dist">dist<a class="anchor" aria-label="anchor" href="#arg-dist"></a></dt>
<dd><p>A string indicating "normal", "binary", "poisson" or "gamma".</p></dd>


<dt id="arg-param-">param1<a class="anchor" aria-label="anchor" href="#arg-param-"></a></dt>
<dd><p>A string that represents the column in dtOld that contains the parameter
for the mean of the distribution. In the case of the uniform distribution the column
specifies the minimum.</p></dd>


<dt id="arg-param-">param2<a class="anchor" aria-label="anchor" href="#arg-param-"></a></dt>
<dd><p>A string that represents the column in dtOld that contains a possible second
parameter for the distribution. For the normal distribution, this will be the variance;
for the gamma distribution, this will be the dispersion; and for the uniform distribution,
this will be the maximum.</p></dd>


<dt id="arg-cnames">cnames<a class="anchor" aria-label="anchor" href="#arg-cnames"></a></dt>
<dd><p>Explicit column names. A single string with names separated
by commas. If no string is provided, the default names will be V#, where #
represents the column.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Two methods are available to generate correlated data. (1) "copula" uses
the multivariate Gaussian copula method that is applied to all other distributions; this
applies to all available distributions. (2) "ep" uses an algorithm developed by
Emrich and Piedmonte (1991).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>May include additional arguments that have been deprecated and are
no longer used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Original data.table with added column(s) of correlated data</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The original data table can come in one of two formats: a single row
per <strong>idvar</strong> (where data are <em>ungrouped</em>) or multiple rows per <strong>idvar</strong> (in which
case the data are <em>grouped</em> or clustered). The structure of the arguments
depends on the format of the data.</p>
<p>In the case of <em>ungrouped</em> data, there are two ways to specify the number of
correlated variables and the covariance matrix. In approach (1),
<strong>nvars</strong> needs to be specified along with <strong>rho</strong> and <strong>corstr</strong>.
In approach (2), <strong>corMatrix</strong> may be specified by identifying a single square
<em>n</em> x <em>n</em> covariance matrix. The number of new variables generated for each
record will be <em>n</em>. If <strong>nvars</strong>, <strong>rho</strong>,
<strong>corstr</strong>, and <strong>corMatrix</strong> are all specified, the data will be
generated based on the information provided in the covariance matrix alone.
In both (1) and (2), the data will be returned in a wide format.</p>
<p>In the case of <em>grouped</em> data, where there are <em>G</em> groups, there are also two
ways to proceed. In both cases,
the number of new variables to be generated may vary by group, and will be determined by the
number of records in each group, \(n_i, i \in \{1,...,G\}\) (i.e., the number of records that share the same
value of <em>idvar</em>). <strong>nvars</strong> is not used in grouped data.
In approach (1), the arguments <strong>rho</strong> and <strong>corstr</strong> may both be specified
to determine the structure of the covariance
matrix. In approach (2), the argument <strong>corMatrix</strong> may be specified.
<strong>corMatrix</strong> can be a single matrix with dimensions \(n \ \text{x} \ n\) if
\(n_i = n\) for all <em>i</em>. However, if the sample sizes of each group vary
(i.e., \(n_i \ne n_j\) for some groups <em>i</em> and <em>j</em>), <strong>corMatrix</strong> must be a list
of covariance matrices with a length <em>G</em>; each
covariance matrix in the list will have dimensions
\(n_i \ \text{x} \ n_i, \ i \in \{1,...,G\}\). In the case of <em>grouped</em> data, the
new data will be returned in <em>long</em> format (i.e., one new column only).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Emrich LJ, Piedmonte MR. A Method for Generating High-Dimensional
Multivariate Binary Variates. The American Statistician 1991;45:302-4.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Ungrouped data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cMat</span> <span class="op">&lt;-</span> <span class="fu"><a href="genCorMat.html">genCorMat</a></span><span class="op">(</span>nvars <span class="op">=</span> <span class="fl">4</span>, rho <span class="op">=</span> <span class="fl">.2</span>, corstr <span class="op">=</span> <span class="st">"ar1"</span>, nclusters <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">def</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="defData.html">defData</a></span><span class="op">(</span>varname <span class="op">=</span> <span class="st">"xbase"</span>, formula <span class="op">=</span> <span class="fl">5</span>, variance <span class="op">=</span> <span class="fl">.4</span>, dist <span class="op">=</span> <span class="st">"gamma"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="defData.html">defData</a></span><span class="op">(</span>varname <span class="op">=</span> <span class="st">"lambda"</span>, formula <span class="op">=</span> <span class="st">".5 + .1*xbase"</span>, dist <span class="op">=</span> <span class="st">"nonrandom"</span>, link <span class="op">=</span> <span class="st">"log"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="defData.html">defData</a></span><span class="op">(</span>varname <span class="op">=</span> <span class="st">"n"</span>, formula <span class="op">=</span> <span class="fl">3</span>, dist <span class="op">=</span> <span class="st">"noZeroPoisson"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="genData.html">genData</a></span><span class="op">(</span><span class="fl">101</span>, <span class="va">def</span>, id <span class="op">=</span> <span class="st">"cid"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Specify with nvars, rho, and corstr</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">addCorGen</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dtOld <span class="op">=</span> <span class="va">dd</span>, idvar <span class="op">=</span> <span class="st">"cid"</span>, nvars <span class="op">=</span> <span class="fl">3</span>, rho <span class="op">=</span> <span class="fl">.7</span>, corstr <span class="op">=</span> <span class="st">"cs"</span>,</span></span>
<span class="r-in"><span>  dist <span class="op">=</span> <span class="st">"poisson"</span>, param1 <span class="op">=</span> <span class="st">"lambda"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;cid&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        cid     xbase   lambda     n    V1    V2    V3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt;     &lt;num&gt;    &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:     1  7.350822 3.438661     4     4     5     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:     2  1.481048 1.911914     4     2     5     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:     3  3.038042 2.234024     1     1     2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:     4  4.448459 2.572417     1     6     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:     5 13.688324 6.480725     2    13    11    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97:    97  1.573306 1.929634     6     2     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98:    98  4.372102 2.552850     1     3     5     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99:    99 13.183448 6.161651     1     2     4     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100:   100  6.366328 3.116258     2     1     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101:   101  4.062736 2.475082     5     1     1     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Specify with covMatrix</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">addCorGen</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dtOld <span class="op">=</span> <span class="va">dd</span>, idvar <span class="op">=</span> <span class="st">"cid"</span>, corMatrix <span class="op">=</span> <span class="va">cMat</span>,</span></span>
<span class="r-in"><span>  dist <span class="op">=</span> <span class="st">"poisson"</span>, param1 <span class="op">=</span> <span class="st">"lambda"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;cid&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        cid     xbase   lambda     n    V1    V2    V3    V4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt;     &lt;num&gt;    &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:     1  7.350822 3.438661     4     2     1     4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:     2  1.481048 1.911914     4     1     3     2     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:     3  3.038042 2.234024     1     2     3     3     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:     4  4.448459 2.572417     1     3     4     2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:     5 13.688324 6.480725     2     7     3     7     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97:    97  1.573306 1.929634     6     3     4     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98:    98  4.372102 2.552850     1     4     4     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99:    99 13.183448 6.161651     1     5     6     7     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100:   100  6.366328 3.116258     2     3     2     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101:   101  4.062736 2.475082     5     0     0     2     0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cMats</span> <span class="op">&lt;-</span> <span class="fu"><a href="genCorMat.html">genCorMat</a></span><span class="op">(</span>nvars <span class="op">=</span> <span class="va">dd</span><span class="op">$</span><span class="va">n</span>, rho <span class="op">=</span> <span class="fl">.5</span>, corstr <span class="op">=</span> <span class="st">"cs"</span>, nclusters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dd</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dx</span> <span class="op">&lt;-</span> <span class="fu"><a href="genCluster.html">genCluster</a></span><span class="op">(</span><span class="va">dd</span>, <span class="st">"cid"</span>, <span class="st">"n"</span>, <span class="st">"id"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Specify with nvars, rho, and corstr</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">addCorGen</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dtOld <span class="op">=</span> <span class="va">dx</span>, idvar <span class="op">=</span> <span class="st">"cid"</span>, rho <span class="op">=</span> <span class="fl">.8</span>, corstr <span class="op">=</span> <span class="st">"ar1"</span>, dist <span class="op">=</span> <span class="st">"poisson"</span>, param1 <span class="op">=</span> <span class="st">"xbase"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;cid&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        cid    xbase   lambda     n    id     X</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt;    &lt;num&gt;    &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:     1 7.350822 3.438661     4     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:     1 7.350822 3.438661     4     2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:     1 7.350822 3.438661     4     3     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:     1 7.350822 3.438661     4     4     6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:     2 1.481048 1.911914     4     5     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 312:   101 4.062736 2.475082     5   312     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 313:   101 4.062736 2.475082     5   313     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 314:   101 4.062736 2.475082     5   314     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 315:   101 4.062736 2.475082     5   315     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 316:   101 4.062736 2.475082     5   316     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Specify with covMatrix</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">addCorGen</span><span class="op">(</span></span></span>
<span class="r-in"><span> dtOld <span class="op">=</span> <span class="va">dx</span>, idvar <span class="op">=</span> <span class="st">"cid"</span>, corMatrix <span class="op">=</span> <span class="va">cMats</span>, dist <span class="op">=</span> <span class="st">"poisson"</span>, param1 <span class="op">=</span> <span class="st">"xbase"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;cid&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        cid    xbase   lambda     n    id     X</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt;    &lt;num&gt;    &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:     1 7.350822 3.438661     4     1     9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:     1 7.350822 3.438661     4     2    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:     1 7.350822 3.438661     4     3    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:     1 7.350822 3.438661     4     4    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:     2 1.481048 1.911914     4     5     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 312:   101 4.062736 2.475082     5   312     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 313:   101 4.062736 2.475082     5   313     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 314:   101 4.062736 2.475082     5   314     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 315:   101 4.062736 2.475082     5   315     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 316:   101 4.062736 2.475082     5   316     6</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.rdatagen.net/" class="external-link">Keith Goldfeld</a>, Jacob Wujciak-Jens.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

      </footer></div>






  </body></html>

